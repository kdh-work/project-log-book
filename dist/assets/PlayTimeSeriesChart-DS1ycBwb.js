import{i as v,c as j,L as A}from"./index-Ca5LTxHU.js";import{d as V,r as i,b as q,e as H,c as J,f as e,n as Q,t as I,o as X}from"./index-Ba2SfCsX.js";const Y={class:"p-4"},Z={class:"mb-6 flex items-center space-x-4"},tt={class:"text-sm text-gray-600 ml-4"},et={class:"text-sm text-gray-500"},nt={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6"},at={class:"bg-white p-4 rounded-lg shadow"},st={class:"bg-white p-4 rounded-lg shadow"},ot={class:"bg-white p-4 rounded-lg shadow"},rt={class:"bg-white p-4 rounded-lg shadow"},it={class:"bg-white p-4 rounded-lg shadow"},lt={class:"bg-white p-4 rounded-lg shadow"},ut=20,mt=V({__name:"PlayTimeSeriesChart",setup(dt){const C=i(),k=i(),_=i(),D=i(),O=i(),S=i();let l=null,u=null,d=null,c=null,f=null,m=null;const p=i(!1),M=i("--:--");let x=null;const n={cpu:[],memory:[],network:[],disk:[],temperature:[],power:[]};function b(a){return a.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function P(){const a=new Date,t=new Date(a.getTime()+1e4);M.value=b(t)}function z(){return Math.floor(Math.random()*40)+20}function E(){return Math.floor(Math.random()*30)+50}function N(){return Math.random()*100+50}function U(){return Math.random()*80+20}function F(){return Math.random()*20+40}function W(){return Math.random()*100+200}function g(a,t,w,y){return{title:{text:a,textStyle:{fontSize:14,fontWeight:"bold"},left:"center",top:10},tooltip:{trigger:"axis",formatter:function(o){const s=o[0];let r="";if(s.value&&s.value[0])try{const h=new Date(s.value[0]);isNaN(h.getTime())?r=String(s.value[0]):r=b(h)}catch{r=String(s.value[0])}else if(s.name)try{const h=new Date(s.name);isNaN(h.getTime())?r=String(s.name):r=b(h)}catch{r=String(s.name)}else r="--:--:--";const R=Math.round(s.value[1]*100)/100;return`${r} - ${R}${y}`}},grid:{left:"10%",right:"10%",top:"25%",bottom:"15%"},xAxis:{type:"time",axisLabel:{formatter:function(o){const s=new Date(o);return b(s)},interval:0,rotate:45,fontSize:10,margin:15},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:y,nameLocation:"middle",nameGap:30},series:[{name:a,type:"line",data:t,smooth:!1,symbol:"none",lineStyle:{color:w,width:2},areaStyle:{color:new A(0,0,0,1,[{offset:0,color:w+"40"},{offset:1,color:w+"10"}])}}]}}function T(){const t=new Date().toISOString(),w={cpu:z(),memory:E(),network:N(),disk:U(),temperature:F(),power:W()};Object.keys(n).forEach(y=>{const o=y;n[o].push([t,w[o]]),n[o].length>ut&&n[o].shift()}),l&&l.setOption({series:[{data:n.cpu}]}),u&&u.setOption({series:[{data:n.memory}]}),d&&d.setOption({series:[{data:n.network}]}),c&&c.setOption({series:[{data:n.disk}]}),f&&f.setOption({series:[{data:n.temperature}]}),m&&m.setOption({series:[{data:n.power}]}),P()}function $(){C.value&&(l=v(C.value),l.setOption(g("CPU 사용률",n.cpu,"#3B82F6","%"))),k.value&&(u=v(k.value),u.setOption(g("메모리 사용률",n.memory,"#10B981","%"))),_.value&&(d=v(_.value),d.setOption(g("네트워크 트래픽",n.network,"#8B5CF6","MB/s"))),D.value&&(c=v(D.value),c.setOption(g("디스크 I/O",n.disk,"#F97316","MB/s"))),O.value&&(f=v(O.value),f.setOption(g("시스템 온도",n.temperature,"#EF4444","°C"))),S.value&&(m=v(S.value),m.setOption(g("전력 소비",n.power,"#6366F1","W")));const a=[l,u,d,c,f,m].filter(t=>t!==null);a.length>0&&j(a)}function G(){p.value?B():K()}function K(){p.value=!0,T(),x=setInterval(T,1e4),P()}function B(){p.value=!1,x&&(clearInterval(x),x=null),M.value="--:--"}function L(){[l,u,d,c,f,m].forEach(t=>{t&&t.resize()})}return q(()=>{$(),window.addEventListener("resize",L)}),H(()=>{B(),window.removeEventListener("resize",L),[l,u,d,c,f,m].forEach(t=>{t&&t.dispose()})}),(a,t)=>(X(),J("div",Y,[t[6]||(t[6]=e("h1",{class:"text-2xl font-bold mb-4"},"Play Time Series Chart",-1)),t[7]||(t[7]=e("p",{class:"text-gray-600 mb-6"}," 6개의 타임시리즈 차트가 10초마다 실시간으로 업데이트됩니다. ",-1)),e("div",Z,[e("button",{onClick:G,class:Q(["px-4 py-2 rounded font-semibold transition-colors",p.value?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"])},I(p.value?"정지":"재생"),3),e("span",tt," 상태: "+I(p.value?"실시간 업데이트 중":"정지됨"),1),e("span",et," 다음 업데이트: "+I(M.value),1)]),e("div",nt,[e("div",at,[t[0]||(t[0]=e("h3",{class:"text-lg font-semibold mb-3 text-blue-600"},"CPU 사용률 (%)",-1)),e("div",{ref_key:"cpuChart",ref:C,class:"w-full h-64"},null,512)]),e("div",st,[t[1]||(t[1]=e("h3",{class:"text-lg font-semibold mb-3 text-green-600"}," 메모리 사용률 (%) ",-1)),e("div",{ref_key:"memoryChart",ref:k,class:"w-full h-64"},null,512)]),e("div",ot,[t[2]||(t[2]=e("h3",{class:"text-lg font-semibold mb-3 text-purple-600"}," 네트워크 트래픽 (MB/s) ",-1)),e("div",{ref_key:"networkChart",ref:_,class:"w-full h-64"},null,512)]),e("div",rt,[t[3]||(t[3]=e("h3",{class:"text-lg font-semibold mb-3 text-orange-600"}," 디스크 I/O (MB/s) ",-1)),e("div",{ref_key:"diskChart",ref:D,class:"w-full h-64"},null,512)]),e("div",it,[t[4]||(t[4]=e("h3",{class:"text-lg font-semibold mb-3 text-red-600"}," 시스템 온도 (°C) ",-1)),e("div",{ref_key:"temperatureChart",ref:O,class:"w-full h-64"},null,512)]),e("div",lt,[t[5]||(t[5]=e("h3",{class:"text-lg font-semibold mb-3 text-indigo-600"}," 전력 소비 (W) ",-1)),e("div",{ref_key:"powerChart",ref:S,class:"w-full h-64"},null,512)])])]))}});export{mt as default};
